# AI剧情对话游戏 - 界面设计文档

## 应用概述

一款AI驱动的视觉小说/对话游戏，灵感来源于《千恋万花》等日式Galgame。玩家撰写故事开头，AI实时生成剧情对话、旁白和选项分支，玩家通过选择操控剧情走向。

## 屏幕列表

### 1. 首页（故事列表）- Home
- 展示用户创建的所有故事存档
- 每个故事卡片显示：标题、简介摘要、最后游玩时间、章节进度
- 右上角"+"按钮创建新故事
- 空状态引导用户创建第一个故事

### 2. 新建故事 - CreateStory
- 输入故事标题
- 输入故事开头/背景设定（多行文本框，提示用户描写世界观、角色、场景等）
- 选择故事风格（奇幻/校园/悬疑/科幻/古风/自定义）
- "开始冒险"按钮

### 3. 游戏主界面 - GameScreen
- **核心界面**，模仿经典视觉小说布局
- 上方：场景/背景区域（渐变色背景，显示当前场景描述）
- 中下方：对话框区域
  - 角色名称标签
  - 对话文本（逐字显示动画）
  - 旁白文本（斜体，无角色名）
- 底部：操作区
  - 点击屏幕/对话框推进下一句
  - 选项出现时：2-4个选项按钮竖排显示
- 右上角：菜单按钮（暂停/保存/退出）

### 4. 游戏菜单（弹出层）- GameMenu
- 保存进度
- 返回首页
- 查看历史对话

### 5. 历史对话 - ChatHistory
- 滚动查看本次游戏的所有对话记录
- 区分角色对话和旁白

## 主要内容与功能

### 首页
- FlatList展示故事卡片
- 卡片包含：故事标题、风格标签、创建时间、最后游玩时间
- 左滑删除故事
- 点击卡片继续游戏

### 新建故事
- 表单输入：标题（必填）、开头描述（必填）、风格选择
- 风格选项：奇幻冒险、校园日常、悬疑推理、科幻未来、古风仙侠、自定义
- 验证后跳转到游戏界面

### 游戏主界面
- 对话逐字显示（打字机效果），点击可跳过动画直接显示完整文本
- AI生成的内容类型：
  - **旁白**（narration）：描述场景、环境、角色动作
  - **角色对话**（dialogue）：角色名 + 对话内容，每句不超过50字
  - **玩家选择**（choice）：2-4个选项供玩家选择
- 选择后AI根据选择继续生成剧情
- 加载状态：显示"剧情生成中..."动画

## 关键用户流程

### 流程1：创建新故事
1. 首页点击"+"按钮
2. 进入新建故事页面
3. 填写标题和故事开头
4. 选择风格
5. 点击"开始冒险"
6. 跳转到游戏主界面，AI开始生成第一段剧情

### 流程2：游玩剧情
1. 游戏界面显示旁白/对话
2. 玩家点击推进下一句
3. 遇到选项时显示选择按钮
4. 玩家点击选项
5. AI根据选择生成后续剧情
6. 循环步骤1-5

### 流程3：继续游戏
1. 首页点击已有故事卡片
2. 加载存档，恢复到上次进度
3. 继续游玩

## 色彩方案

采用深色系视觉小说风格，营造沉浸式阅读体验：

| 用途 | 亮色模式 | 暗色模式 |
|------|----------|----------|
| 背景 | #1a1a2e | #0f0f1a |
| 表面/卡片 | #16213e | #1a1a2e |
| 主色调 | #e94560 | #e94560 |
| 前景文字 | #eaeaea | #eaeaea |
| 次要文字 | #a0a0b0 | #8888a0 |
| 边框 | #2a2a4a | #252540 |
| 对话框背景 | rgba(0,0,0,0.85) | rgba(0,0,0,0.9) |
| 角色名颜色 | #e94560 | #e94560 |
| 旁白颜色 | #c0c0d0 | #a0a0b8 |
| 选项按钮 | #16213e | #1a1a2e |
| 选项边框 | #e94560 | #e94560 |

## 排版

- 对话文字：16px，行高1.6
- 角色名：14px，加粗，主色调
- 旁白：15px，斜体
- 选项文字：15px，居中

## 交互细节

- 对话逐字显示速度：30ms/字
- 点击对话框：跳过动画 / 推进下一句
- 选项出现时带淡入动画
- 选项点击后带缩放反馈 + 触觉反馈
- AI生成中显示三点跳动动画
